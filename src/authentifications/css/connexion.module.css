/* ==========================================================================
   src/styles/Connexion.module.css
   Corrigé :
   - Ajout de .inputControl pour wrapper inputs + icônes
   - Positionnement des icônes de validation (.inputValidIcon / .inputErrorIcon)
   - Supression de styles inline (tout via CSS)
   - Responsive & accessible
   ========================================================================== */

/* Police Inter (si non importée globalement) */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap');

:root {
  --blue-marine: #0A1A2F;
  --blue-royal:  #1F4E79;
  --orange:      #F28C28;
  --orange-dark: #e05a00;
  --green:       #2BAE66;
  --white:       #ffffff;
  --muted:       #6B7280;
  --error:       #ff4444;
  --shadow:      0 8px 22px rgba(10,26,47,0.08);
  --radius-lg:   1rem;
  --base-font: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* page container */
.connexion {
  min-height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: 4vh 2vw;
  background: linear-gradient(135deg, var(--blue-marine), var(--blue-royal));
  font-family: var(--base-font);
  color: var(--blue-marine);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* card */
.container-connexion {
  width:100%;
  max-width:520px;
  background: var(--white);
  border-radius: var(--radius-lg);
  padding: clamp(18px, 3.5vh, 36px);
  box-shadow: var(--shadow);
  text-align:center;
  overflow:visible;
}

/* logo circle */
.logo {
  width: 4.8rem;
  height: 4.8rem;
  border-radius: 50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:0 auto 0.9rem;
  background: linear-gradient(180deg,#f6f9fb,#ffffff);
  color: var(--blue-royal);
  font-size:1.35rem;
  box-shadow: 0 8px 20px rgba(16,30,51,0.06);
}

/* title */
.title {
  font-size: 1.6rem;
  font-weight: 700;
  color: var(--blue-marine);
  margin-bottom: 0.9rem;
}

/* messages */
.message-success, .message-error {
  margin-bottom: 0.85rem;
  padding: 0.65rem 0.9rem;
  border-radius: 0.6rem;
  font-weight:600;
  font-size: 0.95rem;
  display:flex;
  align-items:center;
  justify-content:center;
}
.message-success { background: #e9f9ee; color: #116633; border: 1px solid rgba(43,174,102,0.08); }
.message-error { background: #fff5f5; color: #7a1b1b; border: 1px solid rgba(255,68,68,0.06); }

/* input group */
.input-connexion-group {
  text-align:left;
  margin-bottom: 1rem;
}

/* label */
.label-required-connexion {
  display:flex;
  align-items:center;
  gap:0.5rem;
  font-weight:600;
  font-size:0.95rem;
  color: var(--blue-marine);
  margin-bottom: 0.35rem;
}

/* required star */
.label-required-connexion::after { content: " *"; color: var(--error); font-weight:700; }

/* =========================
   INPUT CONTROL WRAPPER
   ========================= */
.inputControl {
  position: relative; /* anchor for absolute icons */
  display: block;
}

/* inputs */
.inputControl input,
input[type="text"],
input[type="password"],
input[type="email"] {
  width:100%;
  padding: 0.9rem 1rem;
  padding-right: 3.6rem; /* space for icons/toggle */
  font-size: 1rem;
  border-radius: 0.6rem;
  border: 1px solid rgba(10,26,47,0.12);
  transition: box-shadow 0.12s ease, border-color 0.12s ease, transform 0.06s ease;
  outline:none;
  background: var(--white);
  color: #0f1724;
}

/* placeholder */
input::placeholder { color: #9aa3b2; }

/* focus */
input:focus {
  border-color: var(--blue-royal);
  box-shadow: 0 6px 18px rgba(31,78,121,0.12);
  transform: translateY(-1px);
}

/* withToggle used for password field to shift icons */
.withToggle { position: relative; }

/* password toggle button */
.password-toggle {
  position:absolute;
  right:12px;
  top:50%;
  transform: translateY(-50%);
  font-size:1.05rem;
  color: var(--blue-royal);
  cursor:pointer;
  z-index: 11;
  background: transparent;
  border: none;
  padding: 6px;
}

/* =========================
   Validation states
   - Classes applied from React
   ========================= */
.valid { border: 1.5px solid var(--green) !important; background: #f6fff6; }
.has-error { border: 1.5px solid var(--error) !important; background: #fff6f6; }

/* small error */
.error-message {
  font-size: 0.875rem;
  color: var(--error);
  margin-top: 0.45rem;
  font-weight:700;
}

/* =========================
   Validation icons (positioned relative to .inputControl)
   ========================= */
.inputControl .inputValidIcon,
.inputControl .inputErrorIcon {
  position: absolute;
  right: 12px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 1.05rem;
  pointer-events: none;
  z-index: 12;
}
.inputValidIcon { color: var(--green); }
.inputErrorIcon { color: var(--error); }

/* when inside withToggle, shift icons left to avoid overlap with toggle */
.withToggle .inputValidIcon,
.withToggle .inputErrorIcon {
  right: 40px;
}

/* =========================
   button
   ========================= */
.btn {
  width: 100%;
  padding: 0.95rem 1rem;
  margin-top: 0.9rem;
  border-radius: 0.75rem;
  border: none;
  background: linear-gradient(180deg, var(--orange), var(--orange-dark));
  color: var(--white);
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  box-shadow: 0 10px 22px rgba(242,140,40,0.12);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}
.btn:hover:not(:disabled) { transform: translateY(-3px); filter: brightness(.98); box-shadow: 0 14px 26px rgba(224,90,0,0.14); }
.btn:disabled { opacity: 0.6; cursor: not-allowed; transform:none; box-shadow:none; background: linear-gradient(180deg,#e6e6e6,#d6d6d6); color:#888; }

/* links */
.lien-connection {
  margin-top: 1rem;
  font-size: 0.95rem;
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:center;
}
.lien-connection a { color: var(--orange); text-decoration:none; font-weight:600; }
.lien-connection a:hover { color: var(--orange-dark); }

/* responsive */
@media (max-width: 640px) {
  .container-connexion { padding: 1.25rem; border-radius: 0.9rem; }
  .logo { width: 4rem; height: 4rem; font-size: 1.05rem; }
  .title { font-size: 1.35rem; }
  .btn { font-size: 1rem; padding: 0.85rem; }
}

/* reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation-duration: 0s !important; animation-iteration-count: 1 !important; }
}